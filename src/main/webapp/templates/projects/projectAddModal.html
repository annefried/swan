<!DOCTYPE html>
<!--
Copyright (C) SWAN (Saar Web-based ANotation system) contributors. All rights reserved.
Licensed under the GPLv2 License. See LICENSE in the project root for license information.
-->
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <!-- Project Modal -->
        <form role="form">
            <div class="modal-header">
                <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Add Project</h4>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs nav-justified">
                    <li ng-class="{'active':isCurrentMode(0)}"><a data-toggle="tab" ng-click="setCurrentMode(0)">New Project</a></li>
                    <li ng-class="{'active':isCurrentMode(1)}"><a data-toggle="tab" ng-click="setCurrentMode(1)">Import</a></li>
                </ul>
                <br>
                <div ng-switch="this.getCurrentMode()" class="slide-frame">
                    <div ng-switch-when="createNew" class="wave">
                        <!-- Create new -->
                        <div class="form-group">
                            <label>Project name</label>
                            <span class="glyphicon glyphicon-question-sign" style="color:#c5c5C5;"
                                  onmouseenter="$(this).tooltip('show')"
                                  title="The name of your project needs to be unique. You cannot use project names used by other project managers, as annotators may work for more than one project manager.">
                            </span>
                            <input type="text" class="form-control" ng-model="modal.projName" required>
                            <span ng-show="hasError(modal.projName)" class="help-block">Project name already taken.</span>
                        </div>
                        <div class="form-group">
                            <label>Annotation scheme</label>
                            <select
                                    data-ng-model="modal.selectedScheme"
                                    ng-options="scheme as scheme.name for scheme in this.schemes">
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tokenization language</label>
                            <span class="glyphicon glyphicon-question-sign" style="color:#c5c5C5;"
                                  onmouseenter="$(this).tooltip('show')"
                                  title="This defines how the documents will be tokenized.">
                            </span>
                            <select
                                    data-ng-model="modal.selectedTokLang"
                                    ng-options="language as language for language in this.languages">
                            </select>
                        </div>
                    </div>
                    <div ng-switch-when="import" class="wave">
                        <!-- Import -->
                        <div class="form-group">
                            <label for="importProject">Choose the project to import (*.zip format)</label>
                            <input class="btn btn-default btn-file"
                                   type="file"
                                   accept=".zip"
                                   name="importProject"
                                   id="importProject"
                                   ng-model="modal.proj"
                                   on-read-file="this.sendProjName($fileName)">
                        </div>
                        <div class="form-group">
                            <label>Project name</label>
                            <span class="glyphicon glyphicon-question-sign" style="color:#c5c5C5;"
                                  onmouseenter="$(this).tooltip('show')"
                                  title="The name of your project needs to be unique. Please change the project name if another project with the same name already exists.">
                            </span>
                            <input type="text" class="form-control" ng-model="modal.projName" required>
                            <span ng-show="hasError(modal.projName)" class="help-block">Project name already taken.</span>
                        </div>
                        <div class="form-group">
                            <label>Tokenization language</label>
                            <span class="glyphicon glyphicon-question-sign" style="color:#c5c5C5;"
                                  onmouseenter="$(this).tooltip('show')"
                                  title="This defines how the documents will be tokenized. At the moment this information is not exported,
                                  which is why it needs to be selected here.">
                            </span>
                            <select
                                    data-ng-model="modal.selectedTokLang"
                                    ng-options="language as language for language in this.languages">
                            </select>
                        </div>
                    </div>
                </div>


            </div>
            <div class="col-lg-6">
                <uib-alert ng-repeat="alert in alerts"
                           type="{{alert.type}}"
                           dismiss-on-timeout="10000"
                           close="closeAlert($index)">
                    {{alert.msg}}
                </uib-alert>
            </div>
            <div class="modal-footer">
                <button type="button"
                        id="pe_createProjectButton"
                        class="btn btn-primary"
                        ng-disabled="!modal.projName  ||Â !modal.selectedTokLang || $scope.hasError(modal.projName) ||
                        (isCurrentMode(0) && !modal.selectedScheme) || (isCurrentMode(1) && !modal.fileSelected)"
                        ng-click="submit()">
                    Submit
                </button>
            </div>
        </form>

    </body>
</html>
